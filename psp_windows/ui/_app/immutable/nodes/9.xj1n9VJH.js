import{f as c,i as _,b as n,d as p,c as he,p as oa,a as Ye,g as ma}from"../chunks/CAJyC1Oe.js";import{p as Le,c as t,b as s,r as a,t as f,e as Ne,o as Oe,f as me,g as e,u as F,a as pa,s as ia,m as ga,d as Te,n as ba}from"../chunks/BNhJgPkb.js";import{R as xa,T as $e,f as Pe,s as ge,c as _a,v as ha,w as Se,x as ka,y as ya,t as De,z as wa,u as Ce,B as ua,D as Be,E as ea,F as Re,G as Pa,H as Ze,J as Ia,k as va,K as da,L as Sa,N as ja,O as Y,a as Aa,Q as Oa,d as Ta,M as Da}from"../chunks/E3TZ2KYB.js";import{s as P,c as ca,b as aa,e as fa,A as Me}from"../chunks/DYcuc4uV.js";import"../chunks/Cj9tYCJl.js";import{b as Ca}from"../chunks/DdltcTOJ.js";import{N as La}from"../chunks/D5yf0nlk.js";import{R as Na}from"../chunks/DmISJ5MO.js";var za=c('<div class="flex items-center space-x-2"><span class="font-bold"> </span> <span> </span></div>'),Ha=c('<div class="grid grid-cols-2 gap-2"><!> <!> <!> <!> <!> <!></div>'),qa=c('<div class="absolute -left-4 -top-1 h-6 w-6 xl:h-8 xl:w-8"><img alt="Alpha" class="pal-element-badge"/></div>'),Ea=c('<div class="absolute -left-4 -top-1 h-6 w-6 xl:h-8 xl:w-8"><img alt="Lucky" class="pal-element-badge"/></div>'),Ma=c("<div><img/></div>"),Fa=c('<div class="flex flex-col"><div class="relative flex items-center justify-center"><!> <!> <img class="ml-4 h-20 w-20 rounded-full"/> <!> <div class="absolute -bottom-4 -right-6 h-6 w-6 xl:h-8 xl:w-8"><!></div></div></div>'),Ba=c('<img class="h-4 w-4"/>'),Ra=c('<div class="flex items-center space-x-2"><!> <span> </span> <span class="text-xs"> </span></div>'),Ga=c("<div> </div>"),Ua=c('<div class="flex gap-2 rounded-sm p-4"><span class="font-bold">Active Skills:</span> <span class="border-r-surface-600 border-r pr-2"> </span> <div class="ml-4 mt-1"></div></div>'),Wa=c('<img class="h-4 w-4"/>'),Ka=c('<div class="flex items-center space-x-2"><!> <span> </span></div>'),Qa=c("<div> </div>"),Va=c('<div class="flex gap-2 rounded-sm p-4"><span class="font-bold">Passive Skills:</span> <span class="border-r-surface-600 border-r pr-2"> </span> <div class="ml-4 mt-1 grid grid-cols-2 gap-2"></div></div>'),Ya=c('<div><span class="font-bold">Learned Skills:</span> </div>'),Ja=c('<div><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Skills</h5> <div class="grid grid-cols-2 gap-2"><!> <!> <!></div></div>'),Xa=c('<span class="p-2 text-lg font-bold"> </span>'),Za=c('<div class="flex items-center space-x-2"><!> <span class="text-lg"> </span></div>'),$a=c('<div class="border-l-surface-600 bg-surface-800 relative w-full overflow-hidden rounded-none border-l-2 p-0 shadow-none"><div class="flex w-full items-center"><img class="ml-2 h-4 w-4 2xl:h-6 2xl:w-6"/> <span class="p-2 font-bold 2xl:text-lg"> </span></div></div>'),et=c('<h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Work Suitability</h5> <div class="flex gap-2"></div>',1),at=c('<div class="space-y-4"><div class="grid grid-cols-2 gap-2"><div class="flex flex-col"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Attributes</h5> <div class="flex w-full justify-center gap-2 rounded-sm p-4"><div class="flex flex-col items-center justify-center"><!> <span class="text-surface-400 font-bold">LEVEL</span> <span class="text-4xl font-bold"> </span></div> <!></div></div> <div class="space-y-2"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4">Stats</h5> <div class="flex flex-col"><span class="text-surface-300 mr-1">IVs</span> <div class="flex justify-center space-x-2"><div class="chip bg-green-700"><img alt="HP" class="h-4 w-4"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-red-700"><img alt="Attack" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-blue-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div></div></div> <div class="flex flex-col"><span class="text-surface-300 mr-1">Souls</span> <div class="flex justify-center space-x-2"><div class="chip bg-green-700"><img alt="HP" class="h-4 w-4"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-red-700"><img alt="Attack" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-blue-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div> <div class="chip bg-purple-700"><img alt="Defense" class="h-6 w-6"/> <span class="text-sm font-bold"> </span></div></div></div></div></div> <!> <!></div>');function tt($,r){Le(r,!0);const i={EmitFlame:"kindling",Watering:"watering",Seeding:"planting",GenerateElectricity:"generating",Handcraft:"handiwork",Collection:"gathering",Deforest:"deforesting",Mining:"mining",OilExtraction:"extracting",ProductMedicine:"production",Cool:"cooling",Transport:"transporting",MonsterFarm:"farming"};let I=F(()=>{const x={};for(const h of Object.keys(ea.elements)){const Q=ea.elements[h];Q&&(x[h]=Pe.loadImage(`${Se}/img/${Q.badge_icon}.png`))}return x}),j=F(()=>{const x={};for(const h of Object.values(Be.passiveSkills))x[h.details.rank]||(x[h.details.rank]=Pe.loadImage(`${Se}/img/rank_${h.details.rank}.png`));return x});function B(x){const h=Be.passiveSkills[x];if(!h||h.localized_name==="None")return"";switch(h.details.rank){case 1:return"";case 2:case 3:return Re("#fcdf19");case 4:return Re("#68ffd8");default:return Re("#FF0000")}}var A=at(),g=t(A),b=t(g),l=s(t(b),2),y=t(l),J=t(y);xa(J,{get value(){return r.preset.pal_preset.rank},count:4,itemClasses:"text-gray",disabled:!0});var le=s(J,4),ue=t(le,!0);a(le),a(y);var ee=s(y,2);$e(ee,{popup:h=>{var Q=Ha();const R=(k,D=Oe,d=Oe)=>{var u=za(),re=t(u),Ae=t(re);a(re);var Ie=s(re,2),ve=t(Ie,!0);a(Ie),a(u),f(()=>{p(Ae,`${D()??""}:`),p(ve,d())}),n(k,u)};var Z=t(Q);R(Z,()=>"Lucky",()=>r.preset.pal_preset.is_lucky?"Yes":"No");var pe=s(Z,2);R(pe,()=>"Alpha",()=>r.preset.pal_preset.is_boss?"Yes":"No");var fe=s(pe,2);{var _e=k=>{R(k,()=>"Gender",()=>r.preset.pal_preset.gender)};_(fe,k=>{r.preset.pal_preset.gender&&k(_e)})}var ce=s(fe,2);{var H=k=>{R(k,()=>"Level",()=>r.preset.pal_preset.level)};_(ce,k=>{var D;(D=r.preset.pal_preset)!=null&&D.level&&k(H)})}var N=s(ce,2);{var G=k=>{R(k,()=>"Rank",()=>r.preset.pal_preset.rank)};_(N,k=>{var D;(D=r.preset.pal_preset)!=null&&D.rank&&k(G)})}var q=s(N,2);{var V=k=>{R(k,()=>"Locked to",()=>r.preset.pal_preset.character_id||"None")};_(q,k=>{var D;(D=r.preset.pal_preset)!=null&&D.lock&&k(V)})}a(Q),n(h,Q)},children:(h,Q)=>{var R=Fa(),Z=t(R),pe=t(Z);{var fe=d=>{var u=qa(),re=t(u);a(u),f(()=>P(re,"src",ge.alphaIcon)),n(d,u)};_(pe,d=>{r.preset.pal_preset.is_boss&&d(fe)})}var _e=s(pe,2);{var ce=d=>{var u=Ea(),re=t(u);a(u),f(()=>P(re,"src",ge.luckyIcon)),n(d,u)};_(_e,d=>{r.preset.pal_preset.is_lucky&&d(ce)})}var H=s(_e,2),N=s(H,2);{var G=d=>{var u=Ma(),re=t(u);a(u),f((Ae,Ie)=>{aa(u,1,Ae),P(re,"src",Ie),P(re,"alt",r.preset.pal_preset.gender)},[()=>ca(_a("absolute -right-4 -top-1 h-6 w-6 xl:h-8 xl:w-8",r.preset.pal_preset.gender==ha.MALE?"text-primary-300":"text-tertiary-300")),()=>Pe.loadImage(`${Se}/img/${r.preset.pal_preset.gender}.png`)]),n(d,u)};_(N,d=>{r.preset.pal_preset.gender&&d(G)})}var q=s(N,2),V=t(q);{var k=d=>{ka(d,{class:"h-4 w-4"})},D=d=>{ya(d,{class:"h-4 w-4"})};_(V,d=>{r.preset.pal_preset.lock?d(k):d(D,!1)})}a(q),a(Z),a(R),f(d=>{P(H,"src",d),P(H,"alt",r.preset.pal_preset.character_id)},[()=>Pe.loadMenuImage(r.preset.pal_preset.character_id)]),n(h,R)},$$slots:{popup:!0,default:!0}}),a(l),a(b);var O=s(b,2),E=s(t(O),2),W=s(t(E),2),K=t(W),X=t(K),ae=s(X,2),ne=t(ae,!0);a(ae),a(K);var M=s(K,2),m=t(M),z=s(m,2),te=t(z,!0);a(z),a(M);var ie=s(M,2),oe=t(ie),ke=s(oe,2),be=t(ke,!0);a(ke),a(ie),a(W),a(E);var S=s(E,2),T=s(t(S),2),Ge=t(T),ze=t(Ge),Je=s(ze,2),ta=t(Je,!0);a(Je),a(Ge);var Ue=s(Ge,2),We=t(Ue),Ke=s(We,2),sa=t(Ke,!0);a(Ke),a(Ue);var Qe=s(Ue,2),Xe=t(Qe),o=s(Xe,2),v=t(o,!0);a(o),a(Qe);var U=s(Qe,2),xe=t(U),C=s(xe,2),L=t(C,!0);a(C),a(U),a(T),a(S),a(O),a(g);var w=s(g,2);{var se=x=>{var h=Ja(),Q=s(t(h),2),R=t(Q);{var Z=H=>{var N=Ua(),G=s(t(N),2),q=t(G,!0);a(G);var V=s(G,2);De(V,21,()=>r.preset.pal_preset.active_skills,Ce,(k,D)=>{var d=he();const u=F(()=>ua.activeSkills[e(D)]);var re=me(d);{var Ae=ve=>{var de=Ra(),we=t(de);{var ra=Ve=>{var na=Ba();f(()=>{P(na,"src",e(I)[e(u).details.element]),P(na,"alt",e(u).details.element)}),n(Ve,na)};_(we,Ve=>{e(u).details.element&&e(I)[e(u).details.element]&&Ve(ra)})}var He=s(we,2),la=t(He,!0);a(He);var qe=s(He,2),Ee=t(qe);a(qe),a(de),f(()=>{p(la,e(u).localized_name),p(Ee,`(${(e(u).details.power===0?"NA":e(u).details.power)??""})`)}),n(ve,de)},Ie=ve=>{var de=Ga(),we=t(de,!0);a(de),f(()=>p(we,e(D))),n(ve,de)};_(re,ve=>{e(u)?ve(Ae):ve(Ie,!1)})}n(k,d)}),a(V),a(N),f(()=>p(q,r.preset.pal_preset.active_skills.length)),n(H,N)};_(R,H=>{r.preset.pal_preset.active_skills&&r.preset.pal_preset.active_skills.length>0&&H(Z)})}var pe=s(R,2);{var fe=H=>{var N=Va(),G=s(t(N),2),q=t(G,!0);a(G);var V=s(G,2);De(V,21,()=>r.preset.pal_preset.passive_skills,Ce,(k,D)=>{var d=he();const u=F(()=>Be.passiveSkills[e(D)]);var re=me(d);{var Ae=ve=>{var de=Ka(),we=t(de);{var ra=qe=>{var Ee=Wa();f(Ve=>{P(Ee,"src",e(j)[e(u).details.rank]),P(Ee,"alt",`Rank ${e(u).details.rank}`),fa(Ee,`filter: ${Ve??""};`)},[()=>B(e(D))]),n(qe,Ee)};_(we,qe=>{e(j)[e(u).details.rank]&&qe(ra)})}var He=s(we,2),la=t(He,!0);a(He),a(de),f(()=>p(la,e(u).localized_name)),n(ve,de)},Ie=ve=>{var de=Qa(),we=t(de,!0);a(de),f(()=>p(we,e(D))),n(ve,de)};_(re,ve=>{e(u)?ve(Ae):ve(Ie,!1)})}n(k,d)}),a(V),a(N),f(()=>p(q,r.preset.pal_preset.passive_skills.length)),n(H,N)};_(pe,H=>{r.preset.pal_preset.passive_skills&&r.preset.pal_preset.passive_skills.length>0&&H(fe)})}var _e=s(pe,2);{var ce=H=>{var N=Ya(),G=s(t(N));a(N),f(()=>p(G,` ${r.preset.pal_preset.learned_skills.length??""}`)),n(H,N)};_(_e,H=>{r.preset.pal_preset.learned_skills&&r.preset.pal_preset.learned_skills.length>0&&H(ce)})}a(Q),a(h),n(x,h)};_(w,x=>{var h,Q,R;((h=r.preset.pal_preset.active_skills)!=null&&h.length||(Q=r.preset.pal_preset.passive_skills)!=null&&Q.length||(R=r.preset.pal_preset.learned_skills)!=null&&R.length)&&x(se)})}var ye=s(w,2);{var je=x=>{var h=et(),Q=s(me(h),2);De(Q,21,()=>Object.entries(r.preset.pal_preset.work_suitability),Ce,(R,Z)=>{let pe=()=>e(Z)[0],fe=()=>e(Z)[1];const _e=F(pe),ce=F(()=>Pe.loadImage(`${Se}/img/${i[e(_e)]}.png`));$e(R,{popup:N=>{var G=Za(),q=t(G);{var V=d=>{var u=Xa(),re=t(u);a(u),f(()=>p(re,`+ ${fe()??""}`)),n(d,u)};_(q,d=>{fe()!==0&&d(V)})}var k=s(q,2),D=t(k,!0);a(k),a(G),f(d=>p(D,d),[()=>wa.workSuitability[e(_e)].localized_name??i[e(_e)].charAt(0).toUpperCase()+i[e(_e)].slice(1)]),n(N,G)},children:(N,G)=>{var q=$a(),V=t(q),k=t(V),D=s(k,2),d=t(D);a(D),a(V),a(q),f(()=>{P(k,"src",e(ce)),P(k,"alt",`${e(_e)??""} icon`),p(d,`+ ${fe()??""}`)}),n(N,q)},$$slots:{popup:!0,default:!0}})}),a(Q),n(x,h)};_(ye,x=>{r.preset.pal_preset.work_suitability&&Object.keys(r.preset.pal_preset.work_suitability).length>0&&x(je)})}a(A),f(()=>{p(ue,r.preset.pal_preset.level),P(X,"src",ge.hpIcon),p(ne,r.preset.pal_preset.talent_hp),P(m,"src",ge.attackIcon),p(te,r.preset.pal_preset.talent_shot),P(oe,"src",ge.defenseIcon),p(be,r.preset.pal_preset.talent_defense),P(ze,"src",ge.hpIcon),p(ta,r.preset.pal_preset.rank_hp),P(We,"src",ge.attackIcon),p(sa,r.preset.pal_preset.rank_attack),P(Xe,"src",ge.defenseIcon),p(v,r.preset.pal_preset.rank_defense),P(xe,"src",ge.workSpeedIcon),p(L,r.preset.pal_preset.rank_craftspeed)}),n($,A),Ne()}var st=c('<img class="h-10 w-10"/>'),rt=c('<div class="flex items-center space-x-2"><!> <span> </span> <span class="text-surface-400"> </span></div>'),lt=c("<span> </span>"),nt=c('<div class="grid grid-cols-[20%_1fr] gap-2 rounded-sm p-4"><span class="border-r-surface-600 border-r pr-2 text-lg font-bold"> </span> <div class="ml-4 mt-1 space-y-4"></div></div>');function it($,r){Le(r,!0);let i=F(()=>{const g={};for(const b of Object.keys(ea.elements)){const l=ea.elements[b];l&&(g[b]=Pe.loadImage(`${Se}/img/${l.badge_icon}.png`))}return g});var I=nt(),j=t(I),B=t(j,!0);a(j);var A=s(j,2);De(A,21,()=>r.preset.skills,Ce,(g,b)=>{var l=he();const y=F(()=>ua.activeSkills[e(b)]);var J=me(l);{var le=ee=>{var O=rt(),E=t(O);{var W=M=>{var m=st();f(()=>{P(m,"src",e(i)[e(y).details.element]),P(m,"alt",e(y).details.element)}),n(M,m)};_(E,M=>{e(y).details.element&&e(i)[e(y).details.element]&&M(W)})}var K=s(E,2),X=t(K,!0);a(K);var ae=s(K,2),ne=t(ae);a(ae),a(O),f(()=>{p(X,e(y).localized_name),p(ne,`(${(e(y).details.power===0?"NA":e(y).details.power)??""})`)}),n(ee,O)},ue=ee=>{var O=lt(),E=t(O,!0);a(O),f(()=>p(E,e(b))),n(ee,O)};_(J,ee=>{e(y)?ee(le):ee(ue,!1)})}n(g,l)}),a(A),a(I),f(()=>p(B,r.preset.name)),n($,I),Ne()}var ot=c('<img class="h-10 w-10"/>'),ct=c('<div class="flex items-center space-x-2"><!> <span> </span></div>'),vt=c("<span> </span>"),dt=c('<div class="grid grid-cols-[20%_1fr] gap-2 rounded-sm p-4"><span class="border-r-surface-600 border-r pr-2 font-bold"> </span> <div class="ml-4 mt-1 grid grid-cols-2 gap-2"></div></div>');function pt($,r){Le(r,!0);let i=F(()=>{const b={};for(const l of Object.values(Be.passiveSkills))b[l.details.rank]||(b[l.details.rank]=Pe.loadImage(`${Se}/img/rank_${l.details.rank}.png`));return b});function I(b){const l=Be.passiveSkills[b];if(!l||l.localized_name==="None")return"";switch(l.details.rank){case 1:return"";case 2:case 3:return Re("#fcdf19");case 4:return Re("#68ffd8");default:return Re("#FF0000")}}var j=dt(),B=t(j),A=t(B,!0);a(B);var g=s(B,2);De(g,21,()=>r.preset.skills,Ce,(b,l)=>{var y=he();const J=F(()=>Be.passiveSkills[e(l)]);var le=me(y);{var ue=O=>{var E=ct(),W=t(E);{var K=ne=>{var M=ot();f(m=>{P(M,"src",e(i)[e(J).details.rank]),P(M,"alt",`Rank ${e(J).details.rank}`),fa(M,`filter: ${m??""};`)},[()=>I(e(l))]),n(ne,M)};_(W,ne=>{e(i)[e(J).details.rank]&&ne(K)})}var X=s(W,2),ae=t(X,!0);a(X),a(E),f(()=>p(ae,e(J).localized_name)),n(O,E)},ee=O=>{var E=vt(),W=t(E,!0);a(E),f(()=>p(W,e(l))),n(O,E)};_(le,O=>{e(J)?O(ue):O(ee,!1)})}n(b,y)}),a(g),a(j),f(()=>p(A,r.preset.name)),n($,j),Ne()}var _t=c('<div class="grid w-full grid-cols-[auto_1fr_auto] items-center gap-2"><div><img class="h-8 w-8"/></div> <span> </span> <span class="bg-surface-800 rounded-sm p-2 font-bold"> </span></div>'),ut=c('<div class="grid grid-cols-3 gap-2 space-y-2 2xl:grid-cols-4"></div>');function Fe($,r){Le(r,!0);let i=oa(r,"items",27,()=>pa([]));function I(A){switch(A){case Ze.Uncommon:return"bg-linear-to-tl from-green-500/50";case Ze.Rare:return"bg-linear-to-tl from-blue-500/50";case Ze.Epic:return"bg-linear-to-tl from-purple-500/50";case Ze.Legendary:return"bg-linear-to-tl from-yellow-500/50";default:return""}}function j(A){switch(A){case"Stonepit":return"StonePit";case"bone":return"Bone";default:return A}}var B=ut();De(B,21,i,Ce,(A,g)=>{var b=he();const l=F(()=>Pa.items[j(e(g).static_id)]);var y=me(b);{var J=le=>{const ue=F(()=>Pe.loadImage(`${Se}/img/${e(l).details.icon}.png`)),ee=F(()=>`Slot ${e(g).slot_index+1}`);$e(le,{get label(){return e(ee)},children:(O,E)=>{var W=_t(),K=t(W),X=t(K);a(K);var ae=s(K,2),ne=t(ae,!0);a(ae);var M=s(ae,2),m=t(M,!0);a(M),a(W),f((z,te)=>{aa(K,1,z),P(X,"src",e(ue)||ge.unknownIcon),P(X,"alt",e(l).info.localized_name),p(ne,e(l).info.localized_name),p(m,te)},[()=>ca(I(e(l).details.rarity)),()=>e(g).count.toLocaleString()]),n(O,W)},$$slots:{default:!0}})};_(y,le=>{e(l)&&le(J)})}n(A,b)}),a(B),n($,B),Ne()}var ft=c('<span class="font-bold">Common</span>'),mt=c('<span class="font-bold">Key Items</span>'),gt=c('<span class="font-bold">Weapons</span>'),bt=c('<span class="font-bold">Armor</span>'),xt=c('<span class="font-bold">Food</span>'),ht=c("<!> <!> <!> <!> <!>",1),kt=c('<span class="text-surface-400 text-sm">No container data</span>'),yt=c('<div class="space-y-4"><h5 class="h5 border-b-surface-600 mb-2 border-b-2 py-4"> </h5> <div><!> <!></div></div>');function wt($,r){Le(r,!0);let i=oa(r,"preset",15);var I=yt(),j=t(I),B=t(j,!0);a(j);var A=s(j,2),g=t(A);Me(g,{collapsible:!0,multiple:!0,children:(y,J)=>{var le=ht(),ue=me(le);{var ee=m=>{var z=he(),te=me(z);Ye(te,()=>Me.Item,(ie,oe)=>{oe(ie,{value:"common_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:S=>{var T=ft();n(S,T)},panel:S=>{Fe(S,{get items(){return i().common_container},set items(T){i(i().common_container=T,!0)}})},$$slots:{control:!0,panel:!0}})}),n(m,z)};_(ue,m=>{i().common_container&&i().common_container.length>0&&m(ee)})}var O=s(ue,2);{var E=m=>{var z=he(),te=me(z);Ye(te,()=>Me.Item,(ie,oe)=>{oe(ie,{value:"essential_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:S=>{var T=mt();n(S,T)},panel:S=>{Fe(S,{get items(){return i().essential_container},set items(T){i(i().essential_container=T,!0)}})},$$slots:{control:!0,panel:!0}})}),n(m,z)};_(O,m=>{i().essential_container&&i().essential_container.length>0&&m(E)})}var W=s(O,2);{var K=m=>{var z=he(),te=me(z);Ye(te,()=>Me.Item,(ie,oe)=>{oe(ie,{value:"weapon_load_out_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:S=>{var T=gt();n(S,T)},panel:S=>{Fe(S,{get items(){return i().weapon_load_out_container},set items(T){i(i().weapon_load_out_container=T,!0)}})},$$slots:{control:!0,panel:!0}})}),n(m,z)};_(W,m=>{i().weapon_load_out_container&&i().weapon_load_out_container.length>0&&m(K)})}var X=s(W,2);{var ae=m=>{var z=he(),te=me(z);Ye(te,()=>Me.Item,(ie,oe)=>{oe(ie,{value:"player_equipment_armor_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:S=>{var T=bt();n(S,T)},panel:S=>{Fe(S,{get items(){return i().player_equipment_armor_container},set items(T){i(i().player_equipment_armor_container=T,!0)}})},$$slots:{control:!0,panel:!0}})}),n(m,z)};_(X,m=>{i().player_equipment_armor_container&&i().player_equipment_armor_container.length>0&&m(ae)})}var ne=s(X,2);{var M=m=>{var z=he(),te=me(z);Ye(te,()=>Me.Item,(ie,oe)=>{oe(ie,{value:"food_equip_container",controlHover:"hover:bg-secondary-500/25",controlBase:"flex text-start items-center space-x-4 w-full bg-surface-800",control:S=>{var T=xt();n(S,T)},panel:S=>{Fe(S,{get items(){return i().food_equip_container},set items(T){i(i().food_equip_container=T,!0)}})},$$slots:{control:!0,panel:!0}})}),n(m,z)};_(ne,m=>{i().food_equip_container&&i().food_equip_container.length>0&&m(M)})}n(y,le)},$$slots:{default:!0}});var b=s(g,2);{var l=y=>{var J=kt();n(y,J)};_(b,y=>{!i().common_container&&!i().essential_container&&!i().weapon_load_out_container&&!i().player_equipment_armor_container&&!i().food_equip_container&&y(l)})}a(A),a(I),f(()=>p(B,i().name)),n($,I),Ne()}var Pt=c('<div><div class="border-b-surface-600 mb-2 flex items-center border-b-2"><img class="mb-2 h-12 w-12"/> <h5 class="h5 py-4"> </h5></div> <!></div>');function It($,r){Le(r,!0);let i=oa(r,"preset",15);const I=Ca.buildings[i().storage_container.key];var j=Pt(),B=t(j),A=t(B),g=s(A,2),b=t(g,!0);a(g),a(B);var l=s(B,2);Fe(l,{get items(){return i().storage_container.slots},set items(y){i(i().storage_container.slots=y,!0)}}),a(j),f(y=>{P(A,"src",y),P(A,"alt",I==null?void 0:I.localized_name),p(b,I.localized_name)},[()=>Pe.loadImage(`${Se}/img/${I==null?void 0:I.icon}.png`)]),n($,j),Ne()}async function St($,r){await r.showConfirmModal({title:"Delete Preset?",message:"Are you sure you want to delete all presets? This action will restore defaults & cannot be undone.",confirmText:"Delete",cancelText:"Cancel"})&&(await Ta(Da.NUKE_PRESETS),Y.reset())}var jt=($,r,i,I)=>{Te(r,i(),!0),Te(I,[],!0)},At=c('<button><span class="text-xs 2xl:text-base"> </span></button>'),Ot=c('<div class="text-surface-400 text-sm">No detailed information available</div>'),Tt=c('<div class="bg-surface-900 rounded-sm p-4"><!></div>'),Dt=c('<span class="font-bold">Name</span> <span class="font-bold">Actions</span>',1),Ct=c('<span class="grow"> </span>'),Lt=($,r,i)=>r(i()),Nt=c('<button class="btn hover:bg-error-500/25 p-2"><!></button>'),zt=c('<div class="flex flex-col"><span class="text-lg font-bold"> </span> <span class="text-surface-400 text-sm"> </span></div>'),Ht=c("<div></div>"),qt=c('<button class="btn mt-2 h-48 w-48 p-2"><!></button>'),Et=c('<div class="flex h-full flex-col items-center justify-center"><img alt="No preset selected" class="mb-2 h-12 w-12"/> <span class="text-lg font-bold">No preset selected</span> <span class="text-surface-400 text-sm">Select a preset from the list to view details</span> <!></div>'),Mt=c('<div class="flex h-full flex-col"><div class="grid h-full w-full grid-cols-[25%_1fr]"><div class="shrink-0 space-y-2 p-4"><div class="flex items-center"><nav class="btn-group preset-outlined-surface-200-800 w-full flex-col rounded-sm p-2 md:flex-row"><!> <!> <!> <!> <!></nav></div> <div class="flex items-center space-x-2"><div class="grow"><!></div> <!></div> <div class="btn-group bg-surface-900 w-full items-center rounded-sm p-1"><!></div> <!></div> <div class="overflow-y-auto p-4"><div class="h-[calc(100vh-32px)] overflow-auto"><!></div></div></div></div>');function Vt($,r){Le(r,!0);const i=(o,v=Oe)=>{var U=At();U.__click=[jt,g,v,l];var xe=t(U),C=t(xe,!0);a(xe),a(U),f((L,w)=>{aa(U,1,L,"svelte-1t1j5m0"),p(C,w)},[()=>ca(_a("btn hover:bg-secondary-500/50 w-1/5 rounded-sm p-2 2xl:p-4",e(g)===v()?"bg-secondary-800":"")),()=>v().charAt(0).toUpperCase()+v().slice(1)]),n(o,U)},I=(o,v=Oe)=>{var U=Tt(),xe=t(U);{var C=w=>{tt(w,{get preset(){return e(l)[v()]},set preset(se){e(l)[v()]=se}})},L=(w,se)=>{{var ye=x=>{it(x,{get preset(){return e(l)[v()]},set preset(h){e(l)[v()]=h}})},je=(x,h)=>{{var Q=Z=>{pt(Z,{get preset(){return e(l)[v()]},set preset(pe){e(l)[v()]=pe}})},R=(Z,pe)=>{{var fe=ce=>{wt(ce,{get preset(){return e(l)[v()]},set preset(H){e(l)[v()]=H}})},_e=(ce,H)=>{{var N=q=>{It(q,{get preset(){return e(l)[v()]},set preset(V){e(l)[v()]=V}})},G=q=>{var V=Ot();n(q,V)};_(ce,q=>{e(g)==="storage"&&e(l)[v()].storage_container?q(N):q(G,!1)},H)}};_(Z,ce=>{e(g)==="inventory"?ce(fe):ce(_e,!1)},pe)}};_(x,Z=>{e(g)==="passive"&&e(l)[v()].skills?Z(Q):Z(R,!1)},h)}};_(w,x=>{e(g)==="active"&&e(l)[v()].skills?x(ye):x(je,!1)},se)}};_(xe,w=>{e(g)==="pal"&&e(l)[v()].pal_preset?w(C):w(L,!1)})}a(U),n(o,U)},j=ja(),B=Aa(),A=Oa(()=>{},300);let g=ia("pal"),b=ia(""),l=ia(pa([]));const y=F(()=>e(g)==="active"||e(g)==="passive"?"grid grid-cols-2":"flex flex-col"),J=F(()=>Object.values(Y.presetProfiles).filter(o=>o.type==="pal_preset").map(o=>({...o,id:Object.keys(Y.presetProfiles)[Object.values(Y.presetProfiles).findIndex(v=>v===o)]}))),le=F(()=>Object.values(Y.presetProfiles).filter(o=>o.type==="inventory").map(o=>({...o,id:Object.keys(Y.presetProfiles)[Object.values(Y.presetProfiles).findIndex(v=>v===o)]}))),ue=F(()=>Object.values(Y.presetProfiles).filter(o=>o.type==="passive_skills").map(o=>({...o,id:Object.keys(Y.presetProfiles)[Object.values(Y.presetProfiles).findIndex(v=>v===o)]}))),ee=F(()=>Object.values(Y.presetProfiles).filter(o=>o.type==="active_skills").map(o=>({...o,id:Object.keys(Y.presetProfiles)[Object.values(Y.presetProfiles).findIndex(v=>v===o)]}))),O=F(()=>Object.values(Y.presetProfiles).filter(o=>o.type==="storage").map(o=>({...o,id:Object.keys(Y.presetProfiles)[Object.values(Y.presetProfiles).findIndex(v=>v===o)]}))),E=F(()=>{let o=[];switch(e(g)){case"pal":o=e(J);break;case"inventory":o=e(le);break;case"passive":o=e(ue);break;case"active":o=e(ee);break;case"storage":o=e(O);break}return e(b)&&(o=o.filter(v=>v.name.toLowerCase().includes(e(b).toLowerCase()))),o});async function W(){if(e(l).length===0)return;if(await j.showConfirmModal({title:`Delete Preset${e(l).length>1?"s":""}`,message:`Are you sure you want to delete the ${e(l).length} selected preset${e(l).length>1?"s":""}?`,confirmText:"Delete",cancelText:"Cancel"})){const v=e(l).map(U=>U.id);await Y.removePresetProfiles(v),B.add(`Deleted ${e(l).length} preset${e(l).length>1?"s":""}`,void 0,"success"),Te(l,[],!0)}}async function K(o){await j.showConfirmModal({title:"Delete Preset?",message:"Are you sure you want to delete this selected preset?",confirmText:"Delete",cancelText:"Cancel"})&&(Y.removePresetProfiles([o.id]),Te(l,e(l).filter(U=>U.id!==o.id),!0),B.add(`Deleted preset "${o.name}"`,void 0,"success"))}ga(()=>{e(b)&&A()});var X=Mt(),ae=t(X),ne=t(ae),M=t(ne),m=t(M),z=t(m);i(z,()=>"pal");var te=s(z,2);i(te,()=>"inventory");var ie=s(te,2);i(ie,()=>"passive");var oe=s(ie,2);i(oe,()=>"active");var ke=s(oe,2);i(ke,()=>"storage"),a(m),a(M);var be=s(M,2),S=t(be),T=t(S);Ia(T,{placeholder:"Search presets...",inputClass:"w-full",get value(){return e(b)},set value(o){Te(b,o,!0)}}),a(S);var Ge=s(S,2);va(Ge,{popupLabel:"Clear Search",onclick:()=>{Te(b,"")},children:(o,v)=>{Na(o,{class:"h-6 w-6"})},$$slots:{default:!0}}),a(be);var ze=s(be,2),Je=t(ze);const ta=F(()=>e(l).length===0);va(Je,{popupLabel:"Delete selected preset(s)",onclick:W,buttonClass:"hover:bg-error-500/50",get disabled(){return e(ta)},children:(o,v)=>{da(o,{size:20})},$$slots:{default:!0}}),a(ze);var Ue=s(ze,2);Sa(Ue,{get items(){return e(E)},listClass:"h-[calc(100vh-250px)] overflow-y-auto",multiple:!0,headerClass:"grid w-full grid-cols-[auto_1fr_auto] gap-2 rounded-sm",get selectedItems(){return e(l)},set selectedItems(C){Te(l,C,!0)},listHeader:C=>{var L=Dt();ba(2),n(C,L)},listItem:(C,L=Oe)=>{var w=Ct(),se=t(w,!0);a(w),f(()=>p(se,L().name)),n(C,w)},listItemActions:(C,L=Oe)=>{var w=Nt();w.__click=[Lt,K,L];var se=t(w);da(se,{size:16}),a(w),n(C,w)},listItemPopup:(C,L=Oe)=>{var w=zt(),se=t(w),ye=t(se,!0);a(se);var je=s(se,2),x=t(je);a(je),a(w),f(()=>{p(ye,L().name),p(x,`Type: ${L().type??""}`)}),n(C,w)},$$slots:{listHeader:!0,listItem:!0,listItemActions:!0,listItemPopup:!0}}),a(ne);var We=s(ne,2),Ke=t(We),sa=t(Ke);{var Qe=o=>{I(o,()=>0)},Xe=(o,v)=>{{var U=C=>{var L=Ht();De(L,21,()=>e(l),Ce,(w,se,ye)=>{I(w,()=>ye)}),a(L),f(()=>aa(L,1,`${e(y)??""} gap-2`,"svelte-1t1j5m0")),n(C,L)},xe=C=>{var L=Et(),w=t(L),se=s(w,6);$e(se,{label:"Nuke all preset",children:(ye,je)=>{var x=qt();x.__click=[St,j];var h=t(x);La(h,{size:120}),a(x),n(ye,x)},$$slots:{default:!0}}),a(L),f(()=>P(w,"src",ge.sadIcon)),n(C,L)};_(o,C=>{e(l).length>1?C(U):C(xe,!1)},v)}};_(sa,o=>{e(l).length===1?o(Qe):o(Xe,!1)})}a(Ke),a(We),a(ae),a(X),n($,X),Ne()}ma(["click"]);export{Vt as component};
